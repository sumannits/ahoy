<!--
  Generated template for the EditprofilePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-title>Edit Profile</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <form [formGroup]="form" #editForm="ngForm">
		<ion-list class="m-0">
			<ion-item>
        <ion-label fixed><ion-icon name="md-person"></ion-icon></ion-label>
				<ion-input type="text" placeholder="Name" [(ngModel)]="userData.name" formControlName="name" autocapitalize="off"></ion-input>
      </ion-item>
      <ion-item no-lines *ngIf="( form.get('name').hasError('pattern') || form.get('name').hasError('required') ) && form.get('name').touched">
        <div class="error" *ngIf="form.get('name').hasError('required') && form.get('name').touched">
          Please input your name
        </div>
        <div class="error" *ngIf="form.get('name').hasError('pattern') && form.get('name').touched">
          Just use alphabet character
        </div>
      </ion-item>
			<ion-item>
        <ion-label fixed><ion-icon name="call"></ion-icon></ion-label>
        <ion-input type="text" placeholder="Phone No" [(ngModel)]="userData.phone" formControlName="phone" autocapitalize="off" ></ion-input>
      </ion-item>

      <ion-item no-lines *ngIf="( form.get('phone').hasError('pattern') || form.get('phone').hasError('required') ) && form.get('phone').touched">
        <div class="error" *ngIf="form.get('phone').hasError('required') && form.get('phone').touched">
          Please input your phone no.
        </div>
        <div class="error" *ngIf="form.get('phone').hasError('pattern') && form.get('phone').touched">
          Just use number only and number must be 10 digit.
        </div>
      </ion-item>

      <ion-item>
        <ion-label fixed><ion-icon name="image"></ion-icon></ion-label>
        <p> Upload picture</p>
        <div><button ion-button color="btn-primary" (click)="presentActionSheet()">Get Image</button></div>
        
      </ion-item>

      <ion-item *ngIf="lastImage">
          <h4>Image Preview</h4>
          <img src="{{pathForImage(lastImage)}}" alt="Ionic File" width="300" />
      </ion-item>
		</ion-list>

		<ion-list no-lines>
			<div class="mt-10">
				<button ion-button class="btn-primary" [disabled]="!editForm.valid" (click)="updateDetails(form.value)" block>UPDATE</button>
      </div>
		</ion-list>
	</form>
</ion-content>
